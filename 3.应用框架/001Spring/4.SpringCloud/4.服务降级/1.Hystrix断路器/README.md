* [概述](#概述)
* [停更](#停更)
* [Hystrix重要概念](#Hystrix重要概念)
    * [服务降级 Fallback](#服务降级Fallback)
    * [服务熔断 Break](#服务熔断Break)
    * [服务限流 Flowlimit](#服务限流Flowlimit)
* [HystrixDEMO](#HystrixDEMO)

# 概述
**分布式系统面临的问题**
复杂分布式体系结构中的应用程序有数十个依赖关系，每个依赖关系在某些时候将不可避免地失败。
> 服务雪崩 多个微服务之间调用的时候，假设微服务A调用微服务B和微服务C，微服务B唾微服务C又调用其它的微服务，这就是所谓的“扇出”。
> 如果扇出的链路上某个微服务的调用响应时间过长或者不可用，对微服务A的调用就会占用越来越多的系统资源，进而引起系统崩溃，所谓的“雪崩效应”。
Hystrix是一个用于处理分布式系统的延迟和容错的开源库，在分布式系统里，许多依赖不可避免的会调用失败，比如超时、异常等，Hystrix能够保证一个依赖出问题的情况下，不会导致整体服务失败，避免级联故障，以提高分布式系统的弹性。

“断路器”本身是一种开关装置，当某个服务单元发生故障之后，通过断路器的故障监控，向调用方返回一个符合预期的、可处理的备选响应（FallBack），而不是长时间的等待或者抛出调用方无法处理的异常，这样就保证了服务调用方的纯种不会被长时间、不必要地占用，从而避免了故障在分布式系统中的蔓延，及至雪崩。
# 停更
停更了为什么还要学习？学的是理念思想

上面神仙打架，下面程序员遭殃。不停学习就是程序员的宿命。    ----周阳
# Hystrix重要概念
## 服务降级Fallback
服务器忙，请稍后再试，不让客户端等待并立刻返回一个友好提示，fallback

哪些情况会触发降级？
```
程序运行异常
超时
服务熔断触发服务降级
线程池/信号量打满也会导致服务降级
```
## 服务熔断Break
熔断机制是对雪崩效应的一种微服务链路保护机制。当扇出链路的某个微服务出错不可用或者响应时间太长时，会进行服务降级，进而熔断该节点的微服务调用，快速返回错误的响应信息。
当检测到该节点微服务调用响应正常后，恢复调用链路。
## 服务限流Flowlimit
秒杀高并发等操作，大家排除，一秒钟N个，有序进行。
# HystrixDEMO
